<!DOCTYPE html>
<!--
Copyright 2014 Mozilla Foundation
Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at
    http://www.apache.org/licenses/LICENSE-2.0
Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
-->
<html dir="ltr" mozdisallowselectionprint>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="google" content="notranslate">
<title>ProjectX Case Designer</title>

<link rel="stylesheet" href="casedesigner.css">
<link rel="stylesheet" href="widgets.css">
<link rel="stylesheet" href="../node_modules/pdfjs-dist/web/pdf_viewer.css">

<script src="../node_modules/pdfjs-dist/build/pdf.js" type="text/javascript"></script>
<script src="../node_modules/pdfjs-dist/web/pdf_viewer.js" type="text/javascript"></script>

</head>
<body tabindex="-1">
	<div id="casePanel">
		<span>ProjectX Case Designer</span>
		<div id="titles">
			<span>Case Title:</span><input type="text" id="case-title" placeholder="Case title" size="20" />
			<span>Phase Title:</span><input type="text" id="phase-title" placeholder="Phase title" size="20" onkeyup="updateTitle" />
		</div>	
		<div id="files">
			<span>PDF File </span>
			<button onclick=showFileMenu("openPDF")>Open</button>
			<button onclick=showFileMenu("savePDF")>Save</button>
		</div>	
	</div>
	<div id="phaseWrapper">
		<div id="phasePanel"></div>
	</div>
	<div id="contentDisplay">
		<div id="viewerWrapper">
			<div id="viewerContainer"></div>
			<div id="widgetPanel">
				<img class="widgetOption" src="images/textfield.png" title="textfield" alt="" />
				<img class="widgetOption" src="images/textarea.png" title="textarea" alt="" />
				<img class="widgetOption" src="images/select.png" title="select" alt="" />
				<img class="widgetOption" src="images/cforward.png" title="carryforward" alt="" />
				<img class="widgetOption" src="images/media.png" title="media" alt="" />
				<img class="widgetOption" src="images/diagpath.png" title="diagnosticpath" alt="" />
			</div>
			<div id="menuLayer">
				<div id="addList" class="popupDialog">
					<div class="title">List Properties</div>
					<div class="instructions">
						<p>Select a type for your list.<br/>
						  <em>Be sure you have clicked on the first bullet in
							the list.</em>
						</p>
					</div>
					<input type="radio" name="listType" value="multiplechoice" checked="checked" />
					<b>Multiple Choice</b>
					<p>Students may choose one of many answers.</p>
					<input type="radio" name="listType" value="checklist" />
					<b>Checklist</b>
					<p>Students may choose zero or more answers.</p>
					<div class="error"></div>
					<div class="buttonBar">
						<button onClick=saveList()>Save</button>
						<button type="button" onClick=toggleMenu("hide") title="Cancel">Cancel</button>
					</div>
				</div>
				<div id="textfield" class="popupDialog">
					<div class="title">Textfield Properties</div>
					<div class="instructions">
						<p>Select a width in characters.</p>
					</div>
					<select name="textsize">
						<option>Select a width</option>
						<option value="10">10</option>
						<option selected="selected" value="20">20</option>
						<option value="40">40</option>
						<option value="80">80</option>
					</select><br/>
					<input type="checkbox" name="optional"> Optional<br/>
					<div class="error">Select a width in characters.</div>
					<div class="buttonBar">
						<button onClick=saveTextfield()>Save</button>
						<button type="button" onClick=toggleMenu("hide") title="Cancel">Cancel</button>
					</div>
				</div>
				<div id="textarea" class="popupDialog">
					<div class="title">Textarea Properties</div>
					<div class="instructions">
						<p>Choose whether the student must<br/>supply an answer.</p>
					</div>
					<input type="checkbox" name="optional"> Optional<br/>
					<div class="error"></div>
					<div class="buttonBar">
						<button onClick=saveTextarea()>Save</button>
						<button type="button" onClick=toggleMenu("hide") title="Cancel">Cancel</button>
					</div>
				</div>
				<div id="select" class="popupDialog">
					<div class="title">Select Properties</div>
					<div class="instructions">
						<p>Enter option names separated by semicolons.<br/>
						Pick optional if the students doesn't have to<br/>pick an option.</p>
					</div>
					Select Options: <input type="text" name="select-options" 
					placeholder="Option names"/><br/>
					<input type="checkbox" name="optional"> Optional<br/>
					<div class="error">You must supply at least one option.</div>
					<div class="buttonBar">
						<button onClick=saveSelect()>Save</button>
						<button type="button" onClick=toggleMenu("hide") title="Cancel">Cancel</button>
					</div>
				</div>
				<div id="carryforward" class="popupDialog">
					<div class="title">Carry-forward Properties</div>
					<div class="instructions">
						<p>Pick an answer supplied from<br/>a previous phase.</p>
					</div>
					<select name="answer">
						<option disabled="disabled" selected="selected">Choose an answer.</option>
					</select>
					<div class="error">You must supply at least one answer.</div>
					<div class="buttonBar">
						<button onClick=saveCarryforward()>Save</button>
						<button type="button" onClick=toggleMenu("hide") title="Cancel">Cancel</button>
					</div>
				</div>
				<div id="media" class="popupDialog">
					<div class="title">Media Properties</div>
					<div class="instructions">
						<p>Enter a url to display.</p>
					</div>
					Display URL: <input type="text" name="display-url" placeholder="Enter a URL"/>
					<div class="error">You must supply a URL</div>
					<div class="buttonBar">
						<button onClick=saveMedia()>Save</button>
						<button type="button" onClick=toggleMenu("hide") title="Cancel">Cancel</button>
					</div>
				</div>
				<div id="diagnosticpath" class="popupDialog">
					<div class="title">Diagnostic Path Properties</div>
					<div class="instructions">
						<p>Supply a URL only when the answer should be displayed. 
						Leave it blank for student mode.</p>
					</div>
					Expert Path URL: <input type="text" name="expert-path" placeholder="Enter a URL"/>
					<div class="error"></div>
					<div class="buttonBar">
						<button onClick=saveExpertPath()>Save</button>
						<button type="button" onClick=toggleMenu("hide") title="Cancel">Cancel</button>
					</div>
				</div>
			</div>
		</div>
		<div id="toolWrapper">
			<div id="toolMenu"></div>
			<div id="toolContent">
				<div id="toolsDialog" class="popupDialog">
					<div class="title">Tool Selector</div>
					<div class="instructions">
						<p>Select the tools to include in the Toolbox<br/>
						for this phase.</p>
					</div>
					<input type="checkbox" value="Resources">
					Resources<br />
					<input type="checkbox" value="Comments">
					Comments<br />
					<input type="checkbox" value="Observations">
					Observations<br />
					<div class="error"></div>
					<div class="buttonBar">
						<button onClick="saveTools()">Save</button>
						<button type="button" onClick=toggleMenu("hide") title="Cancel">Cancel</button>
					</div>
				</div>
				<div id="Resources">
					<img src="images/resources.png"/>
				</div>
				<div id="Comments">
					<img src="images/comments.png"/>
				</div>
				<div id="Observations">
					<img src="images/observations.png"/>
				</div>
				<div id="Roster"></div>
			</div>
		</div>
		<div id="openPDF" class="popupDialog">
			<div class="title">PDF File Open</div>
			<div class="instructions">
				<p>Select a PDF file to open.<br/>
				</p>
			</div>
			<input id="opendirid" type="file" webkitdirectory><br/>
			<input id="openid" type="file" onchange=openPDF() accept=".pdf" files="files">
			<div class="error"></div>
			<div class="buttonBar">
				<button type="button" onclick=toggleMenu("hide") title="Cancel">Cancel</button>
			</div>
		</div>
		<div id="savePDF" class="popupDialog">
			<div class="title">PDF File Save</div>
			<div class="instructions">
				<p>Select where to save the PDF file.<br/>
				</p>
			</div>
			<input id="savedirid" type="file" webkitdirectory><br/>
			<input id="saveid" type="file" webkitdirectory onchange=savePDF() accept=".pdf" files="files">
			<div class="error"></div>
			<div class="buttonBar">
				<button type="button" onclick=toggleMenu("hide") title="Cancel">Cancel</button>
			</div>
		</div>
</div>
	<script src="casedesigner.js" type="text/javascript"></script>
</body>
</html>